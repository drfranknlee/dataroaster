<assembly>
	<id>dist</id>
	<includeBaseDirectory>false</includeBaseDirectory>
	<formats>
		<format>tgz</format>
	</formats>
	<fileSets>
		<!-- api server -->
		<fileSet>
			<directory>${project.basedir}/api-server/target</directory>
			<outputDirectory>apiserver</outputDirectory>
			<includes>
				<include>api-server-*.jar</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.basedir}/api-server/target/classes/</directory>
			<outputDirectory>apiserver/conf</outputDirectory>
			<includes>
				<include>application.properties</include>
				<include>application-prod.yml</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.basedir}/api-server/target/classes/</directory>
			<outputDirectory>apiserver</outputDirectory>
			<includes>
				<include>ehcache.xml</include>
				<include>logback.xml</include>
				<include>persistence-mysql.properties</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.basedir}/api-server/target/classes/templates</directory>
			<outputDirectory>apiserver/templates</outputDirectory>
			<includes>
				<include>**/*</include>
			</includes>
		</fileSet>
		<!-- authorizer -->
		<fileSet>
			<directory>${project.basedir}/authorizer/target</directory>
			<outputDirectory>authorizer</outputDirectory>
			<includes>
				<include>authorizer-*.jar</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.basedir}/authorizer/target/classes/</directory>
			<outputDirectory>authorizer/conf</outputDirectory>
			<includes>
				<include>application.properties</include>
				<include>application-prod.yml</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.basedir}/authorizer/target/classes/</directory>
			<outputDirectory>authorizer</outputDirectory>
			<includes>
				<include>logback.xml</include>
			</includes>
		</fileSet>
	</fileSets>
	<!-- cli -->
	<files>
		<file>
			<source>${project.basedir}/cli/target/cli-*-executable.jar</source>
			<outputDirectory>cli</outputDirectory>
			<destName>dataroaster</destName>
		</file>
	</files>
</assembly>
